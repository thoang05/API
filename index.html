<!DOCTYPE html>
<html>
<head>
<title>Your TOP News</title>
<meta charset="utf-8"/>
<style>

</style>

<script>
function getData() {
  request = new XMLHttpRequest();

  food_input = document.forms[0].food.value;
  url = "https://api.edamam.com/api/food-database/parser?ingr=" + food_input + "&app_id=398a4f8e&app_key=c1d1e8076724f74e2a820e266971b1e7";
  request.open("GET", url, true);

  request.onreadystatechange = function() {
    if (request.readyState == 4 && request.status == 200) {
      theData = request.responseText;
  
      m = JSON.parse(theData);
      var results = "<center>";
          results += "<div class='line'><hr></div>";
          results += "<h1>" + food_input + "</h1><br>";
          results += "<img src='" + m["parsed"][0].food.image + "'><br><br>";
          results += "Energy: " + m["parsed"][0].food.nutrients.ENERC_KCAL + "kcal" + "<br><br>";
          results += "Protein: " + m["parsed"][0].food.nutrients.PROCNT + "g" + "<br><br>";
          results += "Fat: " + m["parsed"][0].food.nutrients.FAT + "g" + "<br><br>";
          results += "Carbs: " + m["parsed"][0].food.nutrients.CHOCDF + "g" + "<br><br>";
          results += "Fiber: " + m["parsed"][0].food.nutrients.FIBTG + "g" + "<br><br>";
          results += "</center>"
      document.getElementById("cData").innerHTML += results;
    }
    else if (request.readyState == 4 && request.status != 200) {
      alert("Something went wrong");
    }
    else if (request.readyState == 3) {
      if (food_input == "") {
        alert("Please enter valid food");
		  }
    }
  }
  request.send(); // end load data
}
</script>
</head>

<body>
  <form>Enter a food: <input type = 'text' name = 'food'>
		<input type = "button" value = "Get Response"
			onclick="getData()">
	</form>
  <p id="cData"></p>

</body>
</html>